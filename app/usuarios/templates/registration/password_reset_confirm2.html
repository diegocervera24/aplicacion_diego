<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
    {% load static %}
    <link rel="stylesheet" href="{% static 'usuarios/style.css' %}">
    <title>TFG</title>
</head>

<body>

    <div class="container" id="container">
        <div class="form-container sign-up">   

        </div>
        <div class="form-container sign-in">
            <form method="POST" autocomplete="off" id="formlogin">
                  {% csrf_token %}
                  <h3>Nueva Contraseña</h3>
                  <div class="input-box">
                    <input type="password" name="new_password1" required="" id="password1" placeholder="Contraseña">
                    <img src="{% static 'usuarios/img/eyeclose.png' %}" id="eye1"> 
                  </div>
                  <div class="input-box">
                    <input type="password" name="new_password2" required="" id="password2" placeholder="Confirma contraseña">
                    <img src="{% static 'usuarios/img/eyeclose.png' %}" id="eye2">
                  </div>
                  {% if form.errors %}
                    {% for field in form %}
                      {% for error in field.errors %}
                        <div class="mensaje">
                            <small class="text-danger">{{ error }}</small>
                        </div>
                      {% endfor %}
                    {% endfor %}
                {% endif %}
                  <button type="submit" name="register">ENVIAR</button>
                </form>
        </div>
        <div class="toggle-container">
            <div class="toggle">
                
                <div class="toggle-panel toggle-right">
                    <a href="/sign/">
                        <img src="{% static 'usuarios/img/cross.png' %}" class="cross">
                    </a>
                    <h3>Recuperar Contraseña</h3>
                    <p>Introduce la nueva contraseña que quieras poner.</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
      const eye1 = document.getElementById('eye1');
      const password1 = document.getElementById('password1');
      const eye2 = document.getElementById('eye2');
      const password2 = document.getElementById('password2');

      eye1.addEventListener('click', mostrarContraseña1);

function mostrarContraseña1(){
    if(password1.type == "password"){
        password1.type = "text";
        eye1.src = "/static/usuarios/img/eyeopen.png"
    } else {
        password1.type = "password";
        eye1.src = "/static/usuarios/img/eyeclose.png";
    }
}

eye2.addEventListener('click', mostrarContraseña2);

function mostrarContraseña2(){
    if(password2.type == "password"){
        password2.type = "text";
        eye2.src = "/static/usuarios/img/eyeopen.png"
    } else {
        password2.type = "password";
        eye2.src = "/static/usuarios/img/eyeclose.png";
    }
}
    </script>
</body>

</html>



